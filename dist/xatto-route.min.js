!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("xatto")):"function"==typeof define&&define.amd?define(["exports","xatto"],e):e(t["xatto-route"]={},t.xatto)}(this,function(t,n){"use strict";var p=function(){return(p=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var r in e=arguments[o])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function s(t,e){var o={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(o[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&(o[n[r]]=t[n[r]])}return o}function l(t,e){return(t.protocol&&":"!==t.protocol?t.protocol:e.protocol)+"//"+([t.hostname,t.port].filter(Boolean).join(":")||[e.hostname,e.port].filter(Boolean).join(":"))}t.Route=function(t,e){var o=t.xa,n=o.context,r=o.extra,a=s(t,["xa"]),i=a.location||n.location||r.location||window.location,c=a.flags||null,l=a.pattern;null==l?l="":l instanceof RegExp&&(c=c||l.flags||null,l=l.source),l="/"===(l="^"===l[0]?l.slice(1):l)[0]?l.slice(1):l;var u=(l=new RegExp("^/"+l,c)).exec(i.pathname),f=e[0];return u&&p({},f,{attributes:p({},f.attributes,{route:{location:i,match:u,params:u.groups||{},path:u[0],pattern:l}})})},t.RouteLink=function(t,e){var a=t.xa.extra,i=s(t,["xa"]),c=i.href,o=i.onclick;return i.onclick=function(r,t,e){if(o&&o(r,t,e),!(r.defaultPrevented||0!==r.button||r.altKey||r.metaKey||r.ctrlKey||r.shiftKey||"_blank"===i.target))return function(t,e){var o=i.location||e.location||a.location||window.location;if(l(o,o)===l(r.currentTarget,o)){r.preventDefault();var n=o.pathname;c!==n&&(history.pushState(n,"",c),t())}}},n.x("a",p({},i),e)},t.setPopstateHandle=function(e){var t=function(t){e()};return addEventListener("popstate",t),function(){removeEventListener("popstate",t)}}});
//# sourceMappingURL=dist/xatto-route.min.js.map